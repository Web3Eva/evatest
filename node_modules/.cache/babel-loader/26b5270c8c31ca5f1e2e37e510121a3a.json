{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Lahcen Laayouni/Documents/Eva/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lahcen Laayouni/Documents/Eva/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Lahcen Laayouni\\\\Documents\\\\Eva\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import\"./Home.css\";import{defaultImgs}from\"../defaultimgs\";import{TextArea,Icon}from\"web3uikit\";import{useState,useRef}from\"react\";import MessageInFeed from\"../components/MessageInFeed\";import{useMoralis,useWeb3ExecuteFunction}from\"react-moralis\";import emojiimg from\"../images/emoji.png\";import Picker from'emoji-picker-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useMoralis=useMoralis(),Moralis=_useMoralis.Moralis;var user=Moralis.User.current();var contractProcessor=useWeb3ExecuteFunction();var inputFile=useRef(null);var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),theFile=_useState4[0],setTheFile=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),inputStr=_useState8[0],setInputStr=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showPicker=_useState10[0],setShowPicker=_useState10[1];var onEmojiClick=function onEmojiClick(event,emojiObject){setInputStr(function(prevInput){return prevInput+emojiObject.emoji;});setShowPicker(false);};function maticSend(){return _maticSend.apply(this,arguments);}function _maticSend(){_maticSend=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var img,data,file,options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(message){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!theFile){_context.next=10;break;}data=theFile;file=new Moralis.File(data.name,data);_context.next=7;return file.saveIPFS();case 7:img=file.ipfs();_context.next=11;break;case 10:img=\"No Img\";case 11:options={contractAddress:\"0xee8530268768C1f20A42b4B43e38e2469b651d1D\",functionName:\"sendMessage\",abi:[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"MessageTxt\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"MessageImage\",\"type\":\"string\"}],\"name\":\"messageSent\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"MessageTxt\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"MessageImage\",\"type\":\"string\"}],\"name\":\"sendMessage\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"}],params:{MessageTxt:message,MessageImage:img},msgValue:Moralis.Units.ETH(1)};_context.next=14;return contractProcessor.fetch({params:options,onSuccess:function onSuccess(){saveMessage();},onError:function onError(error){alert(error.data.message);}});case 14:case\"end\":return _context.stop();}}},_callee);}));return _maticSend.apply(this,arguments);}function saveMessage(){return _saveMessage.apply(this,arguments);}function _saveMessage(){_saveMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var Messages,newMessage,data,file;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(message){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:setInputStr(message);Messages=Moralis.Object.extend(\"Messages\");newMessage=new Messages();newMessage.set(\"messageTxt\",message);newMessage.set(\"senderPfp\",user.attributes.pfp);newMessage.set(\"senderAcc\",user.attributes.ethAddress);newMessage.set(\"senderUsername\",user.attributes.username);if(!theFile){_context2.next=15;break;}data=theFile;file=new Moralis.File(data.name,data);_context2.next=14;return file.saveIPFS();case 14:newMessage.set(\"messageImg\",file.ipfs());case 15:_context2.next=17;return newMessage.save();case 17:window.location.reload();case 18:case\"end\":return _context2.stop();}}},_callee2);}));return _saveMessage.apply(this,arguments);}var onImageClick=function onImageClick(){inputFile.current.click();};var changeHandler=function changeHandler(event){var img=event.target.files[0];setTheFile(img);setSelectedFile(URL.createObjectURL(img));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageIdentify\",children:\"Home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileEva\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.attributes.pfp?user.attributes.pfp:defaultImgs[0],className:\"profilePic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"evaBox\",children:[/*#__PURE__*/_jsx(TextArea,{label:\"\",id:\"tweetTxtArea\",name:\"tweetTxtArea\",value:inputStr,onChange:function onChange(e){return setMessage(e.target.value);},placeholder:\"Start a message!\",type:\"text\",width:\"95%\"}),selectedFile&&/*#__PURE__*/_jsx(\"img\",{src:selectedFile,className:\"evaImg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"imgOrEva\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"imgDiv\",onClick:onImageClick,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",ref:inputFile,onChange:changeHandler,style:{display:\"none\"}}),/*#__PURE__*/_jsx(Icon,{fill:\"#1DA1F2\",size:20,svg:\"image\"})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"img\",{style:{width:19,marginRight:300},src:emojiimg,onClick:function onClick(){return setShowPicker(function(val){return!val;});}}),showPicker&&/*#__PURE__*/_jsx(Picker,{pickerStyle:{width:'100%'},onEmojiClick:onEmojiClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"evaOptions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"eva\",onClick:saveMessage,children:\"Send\"}),/*#__PURE__*/_jsx(\"div\",{className:\"eva\",onClick:maticSend,style:{backgroundColor:\"#8247e5\"},children:/*#__PURE__*/_jsx(Icon,{fill:\"#ffffff\",size:20,svg:\"matic\"})})]})]})]})]}),/*#__PURE__*/_jsx(MessageInFeed,{profile:true})]})]});};export default Home;","map":{"version":3,"sources":["C:/Users/Lahcen Laayouni/Documents/Eva/src/pages/Home.js"],"names":["React","defaultImgs","TextArea","Icon","useState","useRef","MessageInFeed","useMoralis","useWeb3ExecuteFunction","emojiimg","Picker","Home","Moralis","user","User","current","contractProcessor","inputFile","selectedFile","setSelectedFile","theFile","setTheFile","message","setMessage","inputStr","setInputStr","showPicker","setShowPicker","onEmojiClick","event","emojiObject","prevInput","emoji","maticSend","data","file","File","name","saveIPFS","img","ipfs","options","contractAddress","functionName","abi","params","MessageTxt","MessageImage","msgValue","Units","ETH","fetch","onSuccess","saveMessage","onError","error","alert","Messages","Object","extend","newMessage","set","attributes","pfp","ethAddress","username","save","window","location","reload","onImageClick","click","changeHandler","target","files","URL","createObjectURL","e","value","display","width","marginRight","val","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Home.css\";\nimport {defaultImgs} from \"../defaultimgs\"\nimport {TextArea, Icon} from \"web3uikit\";\nimport {useState, useRef} from \"react\";\nimport MessageInFeed from \"../components/MessageInFeed\"\nimport { useMoralis, useWeb3ExecuteFunction } from \"react-moralis\";\nimport emojiimg from \"../images/emoji.png\";\nimport Picker from 'emoji-picker-react';\n\n\nconst Home = () => {\n\n  const { Moralis } = useMoralis();\n  const user = Moralis.User.current();\n  const contractProcessor = useWeb3ExecuteFunction();\n\n  const inputFile = useRef(null);\n  const [selectedFile, setSelectedFile] = useState();\n  const [theFile, setTheFile] = useState();\n  const [message, setMessage] = useState();\n  const [inputStr, setInputStr] = useState('');\n  const [showPicker, setShowPicker] = useState(false);\n  \n  const onEmojiClick = (event, emojiObject) => {\n    setInputStr(prevInput => prevInput + emojiObject.emoji);\n    setShowPicker(false);\n  };\n \n\n\n\n async function maticSend() {\n   if(!message) return;\n\n   let img;\n    if (theFile) {\n      const data = theFile;\n      const file = new Moralis.File(data.name, data);\n      await file.saveIPFS();\n      img = file.ipfs();\n    }else{\n      img = \"No Img\"\n    }\n\n    let options = {\n      contractAddress: \"0xee8530268768C1f20A42b4B43e38e2469b651d1D\",\n      functionName: \"sendMessage\",\n      abi:[{\n        \"inputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": false,\n            \"internalType\": \"address\",\n            \"name\": \"sender\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"MessageTxt\",\n            \"type\": \"string\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"string\",\n            \"name\": \"MessageImage\",\n            \"type\": \"string\"\n          }\n        ],\n        \"name\": \"messageSent\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"MessageTxt\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"MessageImage\",\n            \"type\": \"string\"\n          }\n        ],\n        \"name\": \"sendMessage\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n      }], \n      params: {\n        MessageTxt:message,\n        MessageImage: img,\n      },\n      msgValue: Moralis.Units.ETH(1),\n    }\n\n    await contractProcessor.fetch({\n      params: options,\n      onSuccess: () => {\n        saveMessage();\n      },\n      onError: (error) => {\n        alert(error.data.message)\n      }\n    });\n }\n\n\n\n  async function saveMessage() {\n    if (!message) return;\n    setInputStr(message)\n    const Messages = Moralis.Object.extend(\"Messages\");\n    const newMessage = new Messages;\n\n    newMessage.set(\"messageTxt\", message)\n    newMessage.set(\"senderPfp\", user.attributes.pfp);\n    newMessage.set(\"senderAcc\", user.attributes.ethAddress);\n    newMessage.set(\"senderUsername\", user.attributes.username);\n\n    if(theFile) {\n      const data = theFile;\n      const file = new Moralis.File(data.name, data);\n      await file.saveIPFS();\n      newMessage.set(\"messageImg\", file.ipfs());\n    }\n\n    await newMessage.save();\n    window.location.reload();\n  }\n\n  const onImageClick = () => {\n    inputFile.current.click();\n  };\n\n  \n\n  const changeHandler = (event) =>{\n    const img = event.target.files[0];\n    setTheFile(img);\n    setSelectedFile(URL.createObjectURL(img))\n  }\n\n  return (\n    <>\n    <div className=\"pageIdentify\">Home</div>\n      <div className=\"mainContent\">\n        <div className=\"profileEva\">\n          <img src={user.attributes.pfp ? user.attributes.pfp : defaultImgs[0]} className=\"profilePic\"></img>\n          <div className=\"evaBox\">\n            <TextArea  label=\"\" id=\"tweetTxtArea\" name=\"tweetTxtArea\" value={inputStr} onChange={(e) => setMessage(e.target.value)} placeholder=\"Start a message!\" type=\"text\" width=\"95%\"></TextArea>\n              {selectedFile && (\n                <img src={selectedFile} className=\"evaImg\"></img>\n              )}\n            <div className=\"imgOrEva\">\n              <div className=\"imgDiv\" onClick={onImageClick}>\n                <input\n                  type=\"file\"\n                  name = \"file\"\n                  ref={inputFile}\n                  onChange={changeHandler}\n                  style={{display:\"none\"}}\n                \n                />\n                <Icon fill=\"#1DA1F2\" size={20} svg=\"image\"></Icon>\n    \n              </div><div>\n      \n      \n    </div>\n      <img style={{width:19, marginRight:300}} src={emojiimg}  onClick={() => setShowPicker(val => !val)}/>{showPicker && <Picker\n          pickerStyle={{ width: '100%' }}\n          onEmojiClick={onEmojiClick} />}\n\n              \n              <div className=\"evaOptions\">\n                  <div className=\"eva\" onClick={saveMessage}>Send</div>\n                  <div className=\"eva\" onClick={maticSend} style={{backgroundColor:\"#8247e5\"}}><Icon fill=\"#ffffff\" size={20} svg=\"matic\"></Icon></div>\n\n              </div>\n            </div>\n          </div>\n          \n        </div>\n        <MessageInFeed profile={true}/>\n\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}